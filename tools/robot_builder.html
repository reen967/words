<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UARL | Normalized Component Compiler</title>
    <style>
        :root { --blue: #0066ff; --dark: #111; --accent: #00ff41; }
        body { font-family: 'Inter', sans-serif; background: var(--dark); color: #fff; display: flex; height: 100vh; margin: 0; }
        #sidebar { width: 380px; padding: 30px; border-right: 1px solid #333; background: #181818; }
        #output-view { flex-grow: 1; padding: 40px; overflow-y: auto; background: #050505; color: var(--accent); }
        .comp-card { background: #222; padding: 15px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #333; }
        .btn { width: 100%; padding: 15px; background: var(--blue); color: #fff; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        pre { font-family: 'Fira Code', monospace; font-size: 13px; line-height: 1.5; }
        h2 { font-size: 0.9rem; text-transform: uppercase; color: var(--blue); }
    </style>
</head>
<body>

<div id="sidebar">
    <h1>Robot Architect</h1>
    <p style="font-size: 0.8rem; color: #888;">Select components. The dictionary will normalize effort relative to each component's max capacity.</p>
    
    <div class="input-group">
        <h2>Logical Components</h2>
        <div class="comp-card"><input type="checkbox" id="wheels" checked> Wheels (Locomotion)</div>
        <div class="comp-card"><input type="checkbox" id="tilt" checked> Tilt (Gaze/Neck)</div>
        <div class="comp-card"><input type="checkbox" id="volume"> Volume (Audio)</div>
        <div class="comp-card"><input type="checkbox" id="light"> Luminosity (Light)</div>
    </div>

    <button class="btn" onclick="generateNormalizedDictionary()">COMPILE EFFORT DICTIONARY</button>
</div>

<div id="output-view">
    <div style="color: #555; margin-bottom: 10px;">// Normalized Output (%) based on Stevens' Power Law</div>
    <pre id="jsonDisplay">// Select components and compile...</pre>
</div>

    <div id="sentence-constructor">
    <h2>Sentence Previewer</h2>
    <p>Chain blocks together to see the Percentage Effort transition:</p>
    <div style="display:flex; gap:10px;">
        <span class="tag">I_AM_ALIVE</span> ⮕ <span class="tag">SNAP</span> ⮕ <span class="tag">I_SEE_YOU</span> ⮕ <span class="tag">SURGE</span> ⮕ <span class="tag">APPROACHING</span>
    </div>
    <p id="math-preview" style="color:#888; font-size: 0.8rem; margin-top:10px;">
        // Path: 10% Effort (Log) -> 80% Effort (Snap) -> 90% Effort (Surge)
    </p>
</div>

<script src="../core/affective_data.js"></script>
<script src="../core/uarl_compiler.js"></script>
<script>
    function generateNormalizedDictionary() {
        const components = [];
        if(document.getElementById('wheels').checked) components.push('wheels');
        if(document.getElementById('tilt').checked) components.push('tilt');
        if(document.getElementById('volume').checked) components.push('volume');
        if(document.getElementById('light').checked) components.push('light');

        const botDict = AFFECTIVE_DATA.map(emo => compileNormalizedEmotion(emo, components));
        
        const finalOutput = {
            system: "UARL-Normalized-Effort",
            version: "2.1",
            dictionary: botDict
        };

        document.getElementById('jsonDisplay').textContent = JSON.stringify(finalOutput, null, 2);
    }
</script>
</body>
</html>
