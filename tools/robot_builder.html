<!DOCTYPE html>
<html>
<head>
    <title>UARL Architect</title>
    <style>
        body { font-family: sans-serif; background: #0a0a0a; color: #eee; display: flex; height: 100vh; margin: 0; }
        #config { width: 350px; background: #1a1a1a; padding: 25px; border-right: 1px solid #333; }
        #output { flex-grow: 1; background: #050505; color: #00ff41; padding: 20px; overflow-y: auto; font-family: monospace; }
        .btn { width: 100%; padding: 15px; background: #0066ff; color: white; border: none; cursor: pointer; margin-top: 10px; font-weight: bold; }
        .btn-dl { background: #222; color: #00ff41; border: 1px solid #00ff41; margin-top: 5px; }
    </style>
</head>
<body>
    <div id="config">
        <h2>Robot Body</h2>
        <input type="checkbox" id="has_wheels" checked> Wheels<br>
        <input type="checkbox" id="has_tilt" checked> Tilt Head<br>
        <input type="checkbox" id="has_pan"> Pan Head<br>
        <input type="checkbox" id="has_vol" checked> Volume<br>
        <input type="checkbox" id="has_pitch"> Pitch<br><br>
        <input type="checkbox" id="has_cam"> Has Camera Vision<br><br>
        <button class="btn" onclick="generate()">GENERATE DICTIONARY</button>
        <button class="btn btn-dl" id="dl" style="display:none;" onclick="download()">DOWNLOAD JSON</button>
    </div>
    <pre id="output">// Select hardware and generate...</pre>

    <script src="../core/uarl_data.js"></script>
    <script src="../core/uarl_engine.js"></script>
    <script src="../core/uarl_trajectories.js"></script>
    <script>
        let data = null;
        function generate() {
            const robot = {
                has_wheels: document.getElementById('has_wheels').checked,
                has_tilt: document.getElementById('has_tilt').checked,
                has_pan: document.getElementById('has_pan').checked,
                has_vol: document.getElementById('has_vol').checked,
                has_pitch: document.getElementById('has_pitch').checked,
                has_cam: document.getElementById('has_cam').checked
            };
            data = UARL_DICTIONARY.map(word => ({
                word: word.name,
                verb: getVerbForState(word.angle),
                adaptive_logic: calculateSoulBlock(word, robot)
            }));
            document.getElementById('output').textContent = JSON.stringify(data, null, 2);
            document.getElementById('dl').style.display = 'block';
        }
        function download() {
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = "robot_soul.json"; a.click();
        }
    </script>
</body>
</html>
